# 资产入库系统 - 管理员登录指南

## 📋 管理员账户信息

资产入库系统的管理员账号与主站点**互通**，可以使用主站点的管理员账号登录。

### 管理员账号

#### 账号1（推荐）
- **用户名**: `admin`
- **密码**: `admin123456`
- **角色**: `ADMIN`
- **Solana钱包地址**: `3r8AVeCVDyphpPmFGoij7XsZw4LtXxeqEZDYJUviZR47`
- **助记符**: `above acoustic act action ability ability act above accuse absorb across access`

#### 账号2
- **用户名**: `fanann`
- **密码**: `gaoer5ban`
- **角色**: `ADMIN`
- **钱包地址**: `0xD21a8246545b68429562689aaB902051f0539C31`

---

## 🔐 登录步骤

### 方法1：通过资产入库页面登录（推荐）

1. **访问资产入库页面**
   ```
   http://localhost:5173/arsenal
   ```

2. **系统会自动显示登录界面**
   - 如果未登录，会显示资产入库登录页面

3. **输入管理员账号**
   - **用户名**: `admin`
   - **密码**: `admin123456`

4. **点击"登录"按钮**
   - 系统会先尝试主站点登录（管理员使用主站点认证）
   - 如果登录成功且是管理员，直接进入资产入库系统

5. **登录成功后**
   - 如果是管理员，会看到"管理员控制台"界面
   - 可以访问"审核"和"账户"功能

---

### 方法2：先登录主站点，再访问资产入库

1. **先登录主站点**
   ```
   http://localhost:5173/login
   ```
   - 使用 `admin` / `admin123456` 登录

2. **登录成功后，访问资产入库**
   ```
   http://localhost:5173/arsenal
   ```
   - 管理员会自动识别，无需再次登录

---

## ✅ 管理员功能

登录资产入库系统后，管理员可以：

### 1. 审核资产
- 访问 `/command` 或点击"审核"按钮
- 查看待审核的资产
- 批准或拒绝资产申请
- 生成 TWS Land NFT

### 2. 管理账户
- 访问 `/admin/users` 或点击"账户"按钮
- 创建房地产开发商账户
- 编辑/删除账户
- 查看所有账户列表

### 3. 资产入库
- 虽然管理员可以访问资产入库页面，但通常由房地产开发商使用
- 管理员主要专注于审核和管理

---

## 🔒 认证说明

### 管理员认证逻辑

1. **主站点认证优先**
   - 管理员账号使用主站点的认证系统（`tws_token`）
   - 与主站点登录状态**互通**

2. **自动识别**
   - 访问资产入库页面时，系统会检查：
     - 如果主站点已登录且是管理员 → 直接进入
     - 如果未登录 → 显示登录界面
     - 如果登录但非管理员 → 尝试资产入库独立认证

3. **双重认证系统**
   - **管理员**: 使用主站点认证（`tws_token`）
   - **普通用户**: 使用资产入库独立认证（`arsenal_token`）

---

## 🎯 登录流程图

```
访问 /arsenal
    ↓
检查主站点是否已登录？
    ↓ 是 → 是管理员？
        ↓ 是 → 直接进入（使用主站点认证）
        ↓ 否 → 尝试资产入库认证
    ↓ 否 → 显示登录界面
        ↓
    输入用户名密码
        ↓
    先尝试主站点登录
        ↓ 成功且是管理员 → 使用主站点认证
        ↓ 失败或非管理员 → 尝试资产入库登录
```

---

## ⚠️ 注意事项

1. **管理员账号不能用于资产入库注册**
   - 管理员账号在主站点注册，不能在资产入库系统注册

2. **退出登录**
   - 在资产入库页面点击"退出"按钮
   - 会退出主站点登录（如果使用主站点认证）

3. **权限说明**
   - 管理员拥有所有权限
   - 可以访问审核、账户管理、资产入库等功能

---

## 🆘 故障排除

### 无法登录？

1. **确认账号信息**
   - 用户名：`admin`
   - 密码：`admin123456`
   - 确认账号角色是 `ADMIN`

2. **检查服务器**
   - 确认后端服务器正在运行（端口 10000）
   - 确认前端服务器正在运行（端口 5173）

3. **清除缓存**
   ```javascript
   // 在浏览器控制台运行
   localStorage.clear();
   location.reload();
   ```

4. **检查浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 标签的错误信息

---

## 📞 技术支持

如果遇到问题，请检查：
1. 服务器日志：`tail -f /tmp/tws-server.log`
2. 浏览器控制台错误
3. 网络请求状态（F12 -> Network）

---

**最后更新**: 2024年1月

