# 管理员功能使用指南

## 📋 管理员功能概览

管理员（ADMIN）拥有系统的所有权限，可以访问以下功能：

---

## 🎯 功能入口位置

### 1. **资产入库** （导航栏 → "入库" 按钮）

**入口位置**：
- 登录后，在导航栏右上角点击 **"入库"** 按钮
- 或直接访问：`/arsenal`

**功能**：
- ✅ 提交新的资产信息
- ✅ 上传资产证明文件
- ✅ 在地图上标注资产位置
- ✅ 查看已提交的资产

**访问权限**：
- ADMIN（管理员）
- SUBMITTER（资产提交者）
- DEVELOPER（房地产开发商）

---

### 2. **审核资产** （导航栏 → "审核" 按钮）

**入口位置**：
- 登录后，在导航栏右上角点击 **"审核"** 按钮
- 或直接访问：`/command`

**功能**：
- ✅ 查看所有待审核资产
- ✅ 对比原始数据和脱敏数据
- ✅ 批准资产（确权）
- ✅ 拒绝资产（说明拒绝原因）
- ✅ 生成资产合同PDF
- ✅ 查看审核历史
- ✅ 查看资产统计信息

**访问权限**：
- ADMIN（管理员）
- REVIEWER（审核员）
- DEVELOPER（房地产开发商）

**操作流程**：
1. 进入审核端页面
2. 左侧显示待审核资产列表
3. 点击资产项查看详情
4. 右侧显示原始数据 vs 脱敏数据对比
5. 点击"批准"或"拒绝"按钮进行操作

---

### 3. **管理房地产开发商账户** （导航栏 → "账户" 按钮）

**入口位置**：
- 登录后，在导航栏右上角点击 **"账户"** 按钮（仅管理员可见）
- 或直接访问：`/admin/users`

**功能**：
- ✅ 查看所有房地产开发商账户列表
- ✅ 创建新的房地产开发商账户
  - 设置用户名和密码
  - 自动生成Solana钱包地址
  - 生成助记符（需妥善保存并告知开发商）
- ✅ 编辑账户信息
  - 修改用户名
  - 重置密码
- ✅ 删除账户
- ✅ 搜索账户

**重要提示**：
- 创建账户时会生成助记符，这是账户的唯一恢复方式
- 请妥善保存助记符并安全地告知房地产开发商
- 删除账户操作不可恢复，请谨慎操作

---

## 📊 查看所有数据

### 查看所有资产数据

**方式1：审核端查看**
- 进入审核端（`/command`）
- 可以看到所有待审核和已审核的资产
- 可以查看完整的原始数据（包括敏感信息）

**方式2：通过API获取**
- 使用审核端API获取资产列表
- 访问：`GET /api/arsenal/pending`（待审核资产）
- 访问：`GET /api/arsenal/stats`（统计信息）

### 查看所有用户数据

**入口**：
- 访问账户管理页面（`/admin/users`）
- 当前显示所有房地产开发商账户
- 可以扩展显示所有用户（需要开发）

**数据查看**：
- 用户名
- 钱包地址
- 角色
- 创建时间
- 最后登录时间

---

## 🔐 管理员权限说明

管理员（ADMIN）拥有以下权限：

| 功能 | 权限级别 | 说明 |
|------|---------|------|
| 查看所有数据 | ✅ 完全权限 | 可以查看所有资产、用户、统计数据 |
| 提交资产 | ✅ 完全权限 | 可以提交资产入库 |
| 审核资产 | ✅ 完全权限 | 可以批准、拒绝、查看所有资产 |
| 用户管理 | ✅ 完全权限 | 可以创建、编辑、删除房地产开发商账户 |
| 生成合同 | ✅ 完全权限 | 可以为任何资产生成合同PDF |
| 系统配置 | ✅ 完全权限 | 可以访问所有系统配置功能 |

---

## 🚀 快速开始

### 第一次登录后应该做什么？

1. **熟悉界面**
   - 查看导航栏的所有功能入口
   - 了解各个页面的布局

2. **创建房地产开发商账户**
   - 点击"账户"按钮进入账户管理
   - 点击"创建账户"
   - 填写用户名和密码
   - **重要**：保存生成的助记符

3. **审核资产**（如果有待审核资产）
   - 点击"审核"按钮进入审核端
   - 查看待审核资产列表
   - 选择资产进行审核

4. **提交资产**（可选）
   - 点击"入库"按钮
   - 填写资产信息并提交

---

## 📝 操作注意事项

### 审核资产时
- ✅ 仔细对比原始数据和脱敏数据
- ✅ 确认资产信息的真实性
- ✅ 添加审核备注（如有必要）
- ✅ 批准前确认所有信息正确

### 管理账户时
- ✅ 创建账户后立即保存助记符
- ✅ 通过安全渠道将账户信息告知开发商
- ✅ 定期检查账户状态
- ✅ 删除账户前确认不再需要

### 安全建议
- ✅ 使用强密码
- ✅ 定期更改密码
- ✅ 不要在公共电脑上登录管理员账户
- ✅ 使用完毕后及时退出登录
- ✅ 妥善保管助记符

---

## 🆘 常见问题

### Q: 如何查看所有用户（不仅仅是开发商）？
**A**: 当前账户管理页面只显示房地产开发商账户。如果需要查看所有用户，可以通过后端API直接查询数据库。

### Q: 可以修改其他用户的账户信息吗？
**A**: 当前只能管理房地产开发商账户。如果需要修改其他类型用户的账户，需要通过数据库或后端API。

### Q: 审核端显示没有资产怎么办？
**A**: 
1. 检查是否有用户提交了资产
2. 检查资产状态是否为"MINTING"（待审核）
3. 刷新页面重新加载数据

### Q: 如何查看已审核的资产？
**A**: 
1. 在审核端查看资产详情
2. 查看资产的状态（AVAILABLE表示已批准）
3. 在首页资产列表查看已上架的资产

---

## 📞 技术支持

如有问题，请检查：
1. 浏览器控制台错误信息
2. 服务器日志
3. 网络连接状态
4. 用户权限设置

---

**最后更新**：2025-01-27

