# TOT (TaiOneToken) - Solanaæ™ºèƒ½åˆçº¦ç³»ç»Ÿ

åŸºäºã€Šå…µæ˜“Â·TOT (TaiOneToken) 2026 ç»å¯†å‘å°„è®¡åˆ’æ€»çº²ã€‹å®ç°çš„å®Œæ•´Solana SPL Token-2022ä»£å¸ç³»ç»Ÿã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

TOTæ˜¯ä¸€ä¸ªå…·å¤‡"å‡†å›½å®¶çº§é‡‘èç®¡åˆ¶èƒ½åŠ›"çš„åŠ å¯†èµ„äº§ï¼ŒåŸºäºSolana SPL Token-2022æ ‡å‡†æ„å»ºï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒç‰¹æ€§ï¼š

- **ä»£å¸è§„æ ¼**: TOT (TaiOneToken), 202.7Bæ€»é‡, 9 decimals
- **Token-2022æ‰©å±•**: Transfer Fee, Permanent Delegate, Freeze Authority, Transfer Hook, Metadata Pointer
- **åŠ¨æ€ç¨æ”¶æ¨¡å‹**: åŸºäºæŒæœ‰æ—¶é—´å’Œäº¤æ˜“å½±å“çš„åŠ¨æ€ç¨ç‡è®¡ç®—
- **äº”å¤§æ± å­åˆ†é…**: èƒœåˆ©æ—¥åŸºé‡‘ã€å†å²é‡é“¸æ± ã€è®¤çŸ¥ä½œæˆ˜æ± ã€å¤–èµ„ç»Ÿæˆ˜æ± ã€èµ„äº§é”šå®šæ± 
- **æŒæœ‰è€…ç®¡ç†**: è¿½è¸ªæŒæœ‰æ—¶é—´ã€äº¤æ˜“ç»Ÿè®¡ã€å†»ç»“/è§£å†»åŠŸèƒ½

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
tot/
â”œâ”€â”€ src/                                 # Rustæºä»£ç å’Œé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ lib.rs                           # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ constants.rs                    # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ errors.rs                        # é”™è¯¯å®šä¹‰
â”‚   â”œâ”€â”€ state/                           # çŠ¶æ€è´¦æˆ·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ config.rs
â”‚   â”‚   â”œâ”€â”€ pool.rs
â”‚   â”‚   â”œâ”€â”€ holder.rs
â”‚   â”‚   â”œâ”€â”€ tax.rs
â”‚   â”‚   â””â”€â”€ hook.rs                      # Transfer Hooké…ç½®
â”‚   â”œâ”€â”€ instructions/                   # æŒ‡ä»¤å®ç°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ initialize.rs
â”‚   â”‚   â”œâ”€â”€ init_pool.rs
â”‚   â”‚   â”œâ”€â”€ mint_to_pools.rs
â”‚   â”‚   â”œâ”€â”€ holder.rs
â”‚   â”‚   â”œâ”€â”€ tax.rs
â”‚   â”‚   â”œâ”€â”€ transfer.rs
â”‚   â”‚   â”œâ”€â”€ admin.rs
â”‚   â”‚   â”œâ”€â”€ query.rs
â”‚   â”‚   â””â”€â”€ hook.rs                      # Transfer HookæŒ‡ä»¤
â”‚   â”œâ”€â”€ utils/                           # å·¥å…·å‡½æ•°æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ math.rs
â”‚   â”‚   â”œâ”€â”€ tax_calculator.rs
â”‚   â”‚   â””â”€â”€ validation.rs
â”‚   â”œâ”€â”€ metadata/                        # ä»£å¸å…ƒæ•°æ®
â”‚   â”‚   â””â”€â”€ metadata.json
â”‚   â”œâ”€â”€ scripts/                         # å·¥å…·è„šæœ¬
â”‚   â”‚   â””â”€â”€ setup-env.ps1               # ç¯å¢ƒè®¾ç½®è„šæœ¬
â”‚   â”œâ”€â”€ Anchor.toml                      # Anchoré¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ Cargo.toml                       # Rustå·¥ä½œç©ºé—´å’Œç¨‹åºé…ç½®
â”‚   â””â”€â”€ package.json                     # Node.jsé¡¹ç›®é…ç½®
â”œâ”€â”€ client/                              # TypeScriptå®¢æˆ·ç«¯ä»£ç 
â”‚   â”œâ”€â”€ deploy.ts                        # éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ initialize.ts                   # åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ mint_to_pools.ts                # é“¸é€ è„šæœ¬
â”œâ”€â”€ tests/                               # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ *.test.ts                        # æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶
â”‚   â”œâ”€â”€ helpers/                         # æµ‹è¯•è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ fixtures/                        # æµ‹è¯•æ•°æ®
â”‚   â””â”€â”€ reports/                         # æµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ tsconfig.json                        # TypeScripté…ç½®æ–‡ä»¶
â”œâ”€â”€ .gitignore                           # Gitå¿½ç•¥é…ç½®
â””â”€â”€ README.md                            # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

1. **å®‰è£…Solana CLI**
   ```bash
   sh -c "$(curl -sSfL https://release.solana.com/stable/install)"
   ```

2. **å®‰è£…Anchoræ¡†æ¶**
   ```bash
   cargo install --git https://github.com/coral-xyz/anchor avm --locked --force
   avm install latest
   avm use latest
   ```

3. **å®‰è£…Rust**ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
   ```bash
   curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
   ```

### å®‰è£…ä¾èµ–

```bash
cd tot
npm install
```

### é…ç½®æ–‡ä»¶ä½ç½®è¯´æ˜

**é‡è¦**: é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ˆ`Anchor.toml`, `Cargo.toml`, `package.json`ï¼‰ä½äº `src/` ç›®å½•ä¸­ã€‚

ä¸ºäº†ç¡®ä¿ Anchor CLI å’Œ npm å·¥å…·èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œå»ºè®®åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºç¬¦å·é“¾æ¥ï¼š

**Windows (éœ€è¦ç®¡ç†å‘˜æƒé™)**:
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
New-Item -ItemType SymbolicLink -Path "Anchor.toml" -Target "src\Anchor.toml"
New-Item -ItemType SymbolicLink -Path "Cargo.toml" -Target "src\Cargo.toml"
New-Item -ItemType SymbolicLink -Path "package.json" -Target "src\package.json"
```

**Linux/Mac**:
```bash
ln -s src/Anchor.toml Anchor.toml
ln -s src/Cargo.toml Cargo.toml
ln -s src/package.json package.json
```

**æ›¿ä»£æ–¹æ¡ˆ**: å¦‚æœæ— æ³•åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå¯ä»¥ä» `src/` ç›®å½•è¿è¡Œå‘½ä»¤ï¼š
```bash
cd src
anchor build
npm test
```

### é…ç½®ç¯å¢ƒ

```bash
# è®¾ç½®ç½‘ç»œï¼ˆå¼€å‘ç¯å¢ƒï¼‰
solana config set --url devnet

# è·å–æµ‹è¯•SOLï¼ˆä»…devnetï¼‰
solana airdrop 2
```

### æ„å»ºé¡¹ç›®

```bash
# æ„å»ºæ‰€æœ‰ç¨‹åºï¼ˆä»é¡¹ç›®æ ¹ç›®å½•ï¼‰
anchor build

# æˆ–è€…ä»src/ç›®å½•è¿è¡Œ
cd src
anchor build
```

### éƒ¨ç½²ç¨‹åº

```bash
# éƒ¨ç½²åˆ°devnet
anchor deploy --provider.cluster devnet

# æˆ–ä½¿ç”¨è„šæœ¬
npm run deploy
```

### åˆå§‹åŒ–ä»£å¸ç³»ç»Ÿ

```bash
# åˆå§‹åŒ–TOTä»£å¸
npm run initialize

# é“¸é€ ä»£å¸åˆ°æ± å­
npm run mint
```

## ğŸ“š æ ¸å¿ƒåŠŸèƒ½

### 1. ä»£å¸åˆå§‹åŒ–

åˆ›å»ºToken-2022 Mintå¹¶åˆå§‹åŒ–æ‰€æœ‰æ‰©å±•ï¼š
- Transfer Feeï¼ˆäº¤æ˜“ç¨ï¼‰
- Permanent Delegateï¼ˆæ°¸ä¹…ä»£ç†æƒï¼‰
- Freeze Authorityï¼ˆå†»ç»“æƒï¼‰
- Transfer Hookï¼ˆè½¬è´¦é’©å­ï¼Œå·²åˆå¹¶åˆ°ä¸»ç¨‹åºï¼‰
- Metadata Pointerï¼ˆå…ƒæ•°æ®æŒ‡é’ˆï¼‰

### 2. äº”å¤§æ± å­åˆ†é…

| æ± å­åç§° | æ•°é‡ (B) | ç™¾åˆ†æ¯” | é”ä»“è§„åˆ™ |
|---------|---------|--------|---------|
| èƒœåˆ©æ—¥åŸºé‡‘ | 20.27 | 10% | é”å®šè‡³2027å¹´1æœˆ1æ—¥ |
| å†å²é‡é“¸æ±  | 19.49 | 9.6% | åˆå§‹æµåŠ¨æ€§ï¼ŒLPæ°¸ä¹…é”å®š |
| è®¤çŸ¥ä½œæˆ˜æ±  | 14.50 | 7.15% | 365å¤©çº¿æ€§é‡Šæ”¾ |
| å¤–èµ„ç»Ÿæˆ˜æ±  | 7.04 | 3.47% | å¤šç­¾æ§åˆ¶ |
| èµ„äº§é”šå®šæ±  | 141.40 | 69.76% | RWAè§¦å‘é‡Šæ”¾ |

### 3. åŠ¨æ€ç¨æ”¶æ¨¡å‹

å®ç°TOTåŠ¨æ€é‡åŠ›åœºç¨æ”¶æ¨¡å‹ (TOT-DGTM)ï¼š

**ç¨ç‡å…¬å¼:**
```
Tax_sell = Base + (P_impact / L) Ã— Î± + 1/(T_hold + 1)^Î² Ã— Î³
```

**å‚æ•°:**
- Base: 2% (åŸºç¡€ç¨ç‡)
- Î±: 5 (æƒ©ç½šç³»æ•°)
- Î²: 0.5 (æ—¶é—´è¡°å‡æŒ‡æ•°)
- Î³: 20% (å¿ è¯šåº¦æƒé‡)

**æŒæœ‰æ—¶é—´æŠ˜æ‰£:**
- 0-30å¤©: æ— æŠ˜æ‰£
- 30-90å¤©: 10%æŠ˜æ‰£
- 90-180å¤©: 25%æŠ˜æ‰£
- 180-365å¤©: 50%æŠ˜æ‰£
- 365+å¤©: 75%æŠ˜æ‰£

**ç¨æ”¶åˆ†é…:**
- 40% é”€æ¯
- 30% æµåŠ¨æ€§æ± 
- 20% ç¤¾åŒºå¥–åŠ±
- 10% è¥é”€

### 4. æŒæœ‰è€…ç®¡ç†

- è¿½è¸ªé¦–æ¬¡æŒæœ‰æ—¶é—´
- è®°å½•ç´¯è®¡ä¹°å…¥/å–å‡ºé‡
- è®¡ç®—æŒæœ‰å¤©æ•°
- æ”¯æŒå†»ç»“/è§£å†»åŠŸèƒ½

### 5. ç®¡ç†å‘˜åŠŸèƒ½

- æ›´æ–°ç®¡ç†å‘˜æƒé™
- æš‚åœ/æ¢å¤ç³»ç»Ÿ
- ç´§æ€¥æå–
- ç®¡ç†ç¨ç‡é…ç½®
- ç®¡ç†å…ç¨åœ°å€

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°æŒ‡ä»¤

1. åœ¨`src/instructions/`åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç°æŒ‡ä»¤å¤„ç†å™¨
3. åœ¨`src/instructions/mod.rs`ä¸­å¯¼å‡º
4. åœ¨`src/lib.rs`çš„`#[program]`æ¨¡å—ä¸­æ·»åŠ ç¨‹åºå…¥å£

### Transfer HookåŠŸèƒ½

Transfer HookåŠŸèƒ½å·²åˆå¹¶åˆ°ä¸»ç¨‹åºä¸­ï¼Œä¸»ç¨‹åºIDåŒæ—¶ä½œä¸ºtransfer hook program IDã€‚ä¸»ç¨‹åºåŒæ—¶å¤„ç†ï¼š
- ä¸»ç¨‹åºçš„æŒ‡ä»¤ï¼ˆinitialize, mint_to_pools, transfer_with_taxç­‰ï¼‰
- Transfer Hookçš„executeæŒ‡ä»¤ï¼ˆç”±Token-2022ç¨‹åºè‡ªåŠ¨è°ƒç”¨ï¼‰

åœ¨åˆå§‹åŒ–æ—¶ï¼Œä¸»ç¨‹åºIDä¼šè‡ªåŠ¨è®¾ç½®ä¸ºtransfer hook program IDã€‚

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
anchor test

# è¿è¡Œç‰¹å®šæµ‹è¯•
anchor test --skip-local-validator
```

### ä»£ç è§„èŒƒ

- æ‰€æœ‰å‡½æ•°ã€ç»“æ„ä½“ã€å¸¸é‡éƒ½éœ€è¦è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
- ä½¿ç”¨Rustçš„ç±»å‹ç³»ç»Ÿç¡®ä¿å®‰å…¨æ€§
- æ‰€æœ‰æ•°å­¦è¿ç®—ä½¿ç”¨checkedæ“ä½œé˜²æ­¢æº¢å‡º
- å®Œå–„çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯

## ğŸ“– APIæ–‡æ¡£

### æ ¸å¿ƒæŒ‡ä»¤

#### `initialize`
åˆå§‹åŒ–TOTä»£å¸ç³»ç»Ÿï¼Œåˆ›å»ºToken-2022 Mintå¹¶é…ç½®æ‰€æœ‰æ‰©å±•ã€‚

#### `init_pool`
åˆå§‹åŒ–æŒ‡å®šç±»å‹çš„æ± å­è´¦æˆ·ã€‚

#### `mint_to_pools`
ä¸€æ¬¡æ€§é“¸é€ 202.7Bä»£å¸åˆ°äº”å¤§æ± å­ã€‚

#### `transfer_with_tax`
æ‰§è¡Œå¸¦ç¨è½¬è´¦ï¼Œè‡ªåŠ¨è®¡ç®—å’Œæ”¶å–åŠ¨æ€ç¨æ”¶ã€‚

#### `calculate_tax`
è®¡ç®—ç¨ç‡ï¼ˆåªè¯»æŸ¥è¯¢ï¼‰ï¼Œç”¨äºå‰ç«¯æ˜¾ç¤ºé¢„ä¼°ç¨ç‡ã€‚

#### `get_holder_stats`
è·å–æŒæœ‰è€…ç»Ÿè®¡ä¿¡æ¯ã€‚

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç§é’¥å®‰å…¨**: éƒ¨ç½²é’±åŒ…å¿…é¡»å¦¥å–„ä¿ç®¡ï¼Œå»ºè®®ä½¿ç”¨å¤šç­¾é’±åŒ…
2. **ç¨‹åºå‡çº§**: ç¨‹åºIDä¸€æ—¦éƒ¨ç½²ä¸å¯æ›´æ”¹ï¼Œè¯·è°¨æ…æ“ä½œ
3. **æƒé™ç®¡ç†**: ç®¡ç†å‘˜æƒé™å…·æœ‰æœ€é«˜æ§åˆ¶æƒï¼Œè¯·å¦¥å–„ä¿ç®¡
4. **æµ‹è¯•ç¯å¢ƒ**: åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å‰ï¼ŒåŠ¡å¿…åœ¨devnetå……åˆ†æµ‹è¯•

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestã€‚

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡Issueåé¦ˆã€‚

---

**2027ï¼Œä½¿å‘½å¿…è¾¾ã€‚** ğŸš€
